{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\react\\\\DocumentExtractionReact\\\\reactModuleDocument\\\\src\\\\context\\\\SubmitState.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport SubmitContext from \"./SubmitContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction SubmitState(props) {\n  _s();\n  const [constData, setConstData] = useState(\"Hello from const\");\n  const handleSubmitContext = async (e, {\n    genInfo,\n    selectedFile,\n    content,\n    postAttachmentReadiness,\n    id,\n    approverMail,\n    approverName,\n    uploadedFiles,\n    setUploadedFiles,\n    setSelectedFile,\n    setIsModalOpen,\n    setApproverMail,\n    setApproverName,\n    setFileInputKey\n  }) => {\n    console.log(\"Context function\");\n    //Convert it into base64\n    let base64String = \"\";\n    try {\n      base64String = await getBase64(selectedFile);\n      console.log(\"Base64 String:\", base64String);\n      const contentAfterSplit = base64String.split(\",\")[1];\n      content = contentAfterSplit;\n    } catch (error) {\n      console.log(\"Error converting file to base64:\", error);\n    }\n\n    //data for readiness to post\n    const dataForReadiness = {\n      vendorNo: genInfo.vendorNo,\n      orderNumber: genInfo.orderNumber,\n      fileName: selectedFile.name,\n      size: selectedFile.size,\n      status: \"pending\",\n      // mediaType: selectedFile.type\n      mediaType: \"image/png\"\n    };\n\n    //Callling post function data readiness\n    try {\n      console.log(\"content :\", content);\n      const postData = await postAttachmentReadiness(dataForReadiness);\n      console.log(\"postData\", postData);\n      id = postData.ID;\n      // const updateData = await updateAttachment(content,id);\n      // console.log(\"Updated Data : \" , updateData);\n      const response = await fetch(`https://6724d9b4trial-dev-docexchange-srv.cfapps.us10-001.hana.ondemand.com/odata/v4/my/Files(${id})/content`, {\n        method: \"PUT\",\n        // or PUT, depending on API specs\n        headers: {\n          \"Content-Type\": \"application/json\" // Fixed casing\n        },\n        body: JSON.stringify({\n          content: content,\n          mediaType: \"image/png\" // Include any other required fields\n        })\n      });\n      console.log(\"kd\", response);\n    } catch (error) {\n      console.error(\"Error:\");\n    }\n    console.log({\n      email: approverMail,\n      name: approverName\n    });\n    if (selectedFile) {\n      const newFile = {\n        id: id,\n        name: selectedFile.name,\n        uploadedBy: approverName || \"privileged\",\n        uploadDate: new Date().toLocaleString(),\n        status: \"PENDING\",\n        approverMail: approverMail || \"None\"\n      };\n      setUploadedFiles([...uploadedFiles, newFile]);\n      setSelectedFile(null);\n      setIsModalOpen(false); // Close modal on submit\n      setApproverMail(approverMail);\n      setApproverName(approverName);\n      setFileInputKey(Date.now()); // Reset the file input key\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(SubmitContext.Provider, {\n      value: {\n        handleSubmitContext,\n        constData,\n        setConstData\n      },\n      children: props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(SubmitState, \"Psr+Y0234f45v9IRESoXHU/wrIM=\");\n_c = SubmitState;\nexport default SubmitState;\nvar _c;\n$RefreshReg$(_c, \"SubmitState\");","map":{"version":3,"names":["React","useState","SubmitContext","jsxDEV","_jsxDEV","Fragment","_Fragment","SubmitState","props","_s","constData","setConstData","handleSubmitContext","e","genInfo","selectedFile","content","postAttachmentReadiness","id","approverMail","approverName","uploadedFiles","setUploadedFiles","setSelectedFile","setIsModalOpen","setApproverMail","setApproverName","setFileInputKey","console","log","base64String","getBase64","contentAfterSplit","split","error","dataForReadiness","vendorNo","orderNumber","fileName","name","size","status","mediaType","postData","ID","response","fetch","method","headers","body","JSON","stringify","email","newFile","uploadedBy","uploadDate","Date","toLocaleString","now","children","Provider","value","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/react/DocumentExtractionReact/reactModuleDocument/src/context/SubmitState.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport SubmitContext from \"./SubmitContext\";\r\n\r\nfunction SubmitState(props) {\r\n  const [constData, setConstData] = useState(\"Hello from const\");\r\n  const handleSubmitContext = async (\r\n    e,\r\n    {\r\n      genInfo,\r\n      selectedFile,\r\n      content,\r\n      postAttachmentReadiness,\r\n      id,\r\n      approverMail,\r\n      approverName,\r\n      uploadedFiles,\r\n      setUploadedFiles,\r\n      setSelectedFile,\r\n      setIsModalOpen,\r\n      setApproverMail,\r\n      setApproverName,\r\n      setFileInputKey,\r\n    }\r\n  ) => {\r\n    console.log(\"Context function\");\r\n    //Convert it into base64\r\n    let base64String = \"\";\r\n    try {\r\n      base64String = await getBase64(selectedFile);\r\n      console.log(\"Base64 String:\", base64String);\r\n      const contentAfterSplit = base64String.split(\",\")[1];\r\n      content = contentAfterSplit;\r\n    } catch (error) {\r\n      console.log(\"Error converting file to base64:\", error);\r\n    }\r\n\r\n    //data for readiness to post\r\n    const dataForReadiness = {\r\n      vendorNo: genInfo.vendorNo,\r\n      orderNumber: genInfo.orderNumber,\r\n      fileName: selectedFile.name,\r\n      size: selectedFile.size,\r\n      status: \"pending\",\r\n      // mediaType: selectedFile.type\r\n      mediaType: \"image/png\",\r\n    };\r\n\r\n    //Callling post function data readiness\r\n    try {\r\n      console.log(\"content :\", content);\r\n      const postData = await postAttachmentReadiness(dataForReadiness);\r\n      console.log(\"postData\", postData);\r\n      id = postData.ID;\r\n      // const updateData = await updateAttachment(content,id);\r\n      // console.log(\"Updated Data : \" , updateData);\r\n      const response = await fetch(\r\n        `https://6724d9b4trial-dev-docexchange-srv.cfapps.us10-001.hana.ondemand.com/odata/v4/my/Files(${id})/content`,\r\n        {\r\n          method: \"PUT\", // or PUT, depending on API specs\r\n          headers: {\r\n            \"Content-Type\": \"application/json\", // Fixed casing\r\n          },\r\n          body: JSON.stringify({\r\n            content: content,\r\n            mediaType: \"image/png\", // Include any other required fields\r\n          }),\r\n        }\r\n      );\r\n      console.log(\"kd\", response);\r\n    } catch (error) {\r\n      console.error(\"Error:\");\r\n    }\r\n\r\n    console.log({ email: approverMail, name: approverName });\r\n    if (selectedFile) {\r\n      const newFile = {\r\n        id: id,\r\n        name: selectedFile.name,\r\n        uploadedBy: approverName || \"privileged\",\r\n        uploadDate: new Date().toLocaleString(),\r\n        status: \"PENDING\",\r\n        approverMail: approverMail || \"None\",\r\n      };\r\n      setUploadedFiles([...uploadedFiles, newFile]);\r\n      setSelectedFile(null);\r\n      setIsModalOpen(false); // Close modal on submit\r\n      setApproverMail(approverMail);\r\n      setApproverName(approverName);\r\n      setFileInputKey(Date.now()); // Reset the file input key\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <SubmitContext.Provider\r\n        value={{ handleSubmitContext, constData, setConstData }}\r\n      >\r\n        {props.children}\r\n      </SubmitContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SubmitState;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}